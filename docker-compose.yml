version: '3.8'

services:
  bot:
    build:
      context: .
      args:
        INSTALL_NGROK: ${INSTALL_NGROK:-false}
    image: discord-bot:latest
    container_name: discord-bot
    ports:
      - "10000:10000"
      - "4040:4040"
    environment:
      - TOKEN=${TOKEN}
      - SSH_ENABLED=${SSH_ENABLED:-false}
      - NGROK_ENABLED=${NGROK_ENABLED:-false}
      - NGROK_AUTHTOKEN=${NGROK_AUTHTOKEN}
    restart: unless-stopped
    stdin_open: true
    tty: true
