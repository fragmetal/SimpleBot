events {
    worker_connections 1024;
}

http {
    # Health check endpoint (used by cron-job.org to keep service alive)
    server {
        listen 10000;
        server_name _;

        location /health {
            access_log off;
            return 200 "healthy\n";
            add_header Content-Type text/plain;
        }

        # Optional: route other paths to your bot's built-in express server
        location / {
            proxy_pass http://127.0.0.1:4040; # If your bot uses a different port, adjust
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection 'upgrade';
            proxy_set_header Host $host;
            proxy_cache_bypass $http_upgrade;
        }
    }
}
